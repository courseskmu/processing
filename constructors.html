<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Constructors &mdash; CMPT 166 Fall 2016 1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="CMPT 166 Fall 2016 1 documentation" href="index.html" />
    <link rel="next" title="Designing a Game" href="game_design_intro.html" />
    <link rel="prev" title="More Complex Animations with State Variables" href="sprite_paratroopers.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="game_design_intro.html" title="Designing a Game"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sprite_paratroopers.html" title="More Complex Animations with State Variables"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CMPT 166 Fall 2016 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Constructors</a><ul>
<li><a class="reference internal" href="#a-point-class">A Point Class</a></li>
<li><a class="reference internal" href="#a-timer-class">A Timer Class</a></li>
<li><a class="reference internal" href="#random-rectangle-source-code">Random Rectangle Source Code</a></li>
<li><a class="reference internal" href="#jiggling-square-source-code">Jiggling Square Source Code</a></li>
<li><a class="reference internal" href="#questions">Questions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="sprite_paratroopers.html"
                        title="previous chapter">More Complex Animations with State Variables</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="game_design_intro.html"
                        title="next chapter">Designing a Game</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="constructors">
<h1>Constructors<a class="headerlink" href="#constructors" title="Permalink to this headline">¶</a></h1>
<p>Consider the following class for representing a person:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
  <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

  <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot;Name: &quot;</span> <span class="o">+</span> <span class="n">name</span><span class="o">);</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot; Age: &quot;</span> <span class="o">+</span> <span class="n">age</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>You can use it like this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Person</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">();</span>
<span class="n">a</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">&quot;Ada&quot;</span><span class="o">;</span>
<span class="n">a</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="mi">31</span><span class="o">;</span>

<span class="n">a</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>

<span class="c1">// Name: Ada</span>
<span class="c1">// Age: 31</span>
</pre></div>
</div>
<p>If you forget to assign initial values to <code class="docutils literal"><span class="pre">a.name</span></code> and <code class="docutils literal"><span class="pre">a.age</span></code> you get
this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Person</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">();</span>

<span class="n">a</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>

<span class="c1">// Name: null</span>
<span class="c1">// Age: 0</span>
</pre></div>
</div>
<p>This doesn&#8217;t really make sense for a person, and so we never want <code class="docutils literal"><span class="pre">Person</span></code>
object to have unassigned values like this.</p>
<p>A good way to avoid this problem is to use a <strong>constructor</strong>. A constructor is
a special function that initializes an object:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
  <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

  <span class="n">Person</span><span class="o">(</span><span class="n">String</span> <span class="n">name_init</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age_init</span><span class="o">)</span> <span class="o">{</span>  <span class="c1">// constructor</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">name_init</span><span class="o">;</span>
    <span class="n">age</span> <span class="o">=</span> <span class="n">age_init</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot;Name: &quot;</span> <span class="o">+</span> <span class="n">name</span><span class="o">);</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot; Age: &quot;</span> <span class="o">+</span> <span class="n">age</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Now we can write code like this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Person</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">(</span><span class="s">&quot;Ada&quot;</span><span class="o">,</span> <span class="mi">31</span><span class="o">);</span>
<span class="n">a</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
</pre></div>
</div>
<p>This lets us initialize the name and age at the same time as we construct it.
It also stops us from forgetting to accidentally initialize a person, e.g.:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Person</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">();</span>  <span class="c1">// compiler error!</span>
<span class="n">a</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
</pre></div>
</div>
<p>We are no longer allowed to create a <code class="docutils literal"><span class="pre">Person</span></code> object by calling <code class="docutils literal"><span class="pre">new</span>
<span class="pre">Person()</span></code> because that expression expects to find a constructor in the
<code class="docutils literal"><span class="pre">Person</span></code> class that takes no parameters. But there is no such constructor:
the <code class="docutils literal"><span class="pre">Person</span></code> constructor needs a name and age as input.</p>
<p>It might seem annoying that this is now an error, but it stops us from making
a subtle mistake. As we saw above, the default <code class="docutils literal"><span class="pre">Person</span></code> object makes no
sense, and so this constructor forces us to always pass in initial data.</p>
<p>Of course, nothing stops us from doing something like this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Person</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">,</span> <span class="o">-</span><span class="mi">31</span><span class="o">);</span>
<span class="n">a</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
</pre></div>
</div>
<p>This runs, but a person can&#8217;t have the empty string as a name, and their age
can&#8217;t be negative.</p>
<p>We can deal with that kind of error by we can check the initial data in the
constructor like this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
  <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

  <span class="c1">// constructor</span>
  <span class="n">Person</span><span class="o">(</span><span class="n">String</span> <span class="n">name_init</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age_init</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">name_init</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>    <span class="c1">// make sure name is</span>
      <span class="n">println</span><span class="o">(</span><span class="s">&quot;Error: empty name&quot;</span><span class="o">);</span>   <span class="c1">// not the empty string</span>
      <span class="n">exit</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">age_init</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>              <span class="c1">// make sure age is positive</span>
      <span class="n">println</span><span class="o">(</span><span class="s">&quot;Error: age must be positive&quot;</span><span class="o">);</span>
      <span class="n">exit</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">name_init</span><span class="o">;</span>
    <span class="n">age</span> <span class="o">=</span> <span class="n">age_init</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot;Name: &quot;</span> <span class="o">+</span> <span class="n">name</span><span class="o">);</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot; Age: &quot;</span> <span class="o">+</span> <span class="n">age</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>We&#8217;ve added two if-statements to the constructor. The first ensures that
<code class="docutils literal"><span class="pre">name</span></code> is not the empty string. If it is empty, then it prints an error
message and ends the program by calling <code class="docutils literal"><span class="pre">exit()</span></code>. The second if-statement
ensures that the age is positive, and, if it&#8217;s not, ends the program with an
error message.</p>
<p>Now we get an error when the program runs if we try to initialize it with bad
data:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Person</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">,</span> <span class="mi">31</span><span class="o">);</span> <span class="c1">// run-time error</span>
<span class="n">a</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Person</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">(</span><span class="s">&quot;Ada&quot;</span><span class="o">,</span> <span class="o">-</span><span class="mi">31</span><span class="o">);</span> <span class="c1">// run-time error</span>
<span class="n">a</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
</pre></div>
</div>
<p>This is an example of <strong>data validation</strong>, i.e. we validate the data passed
into an object to ensure it makes sense. This helps catch and prevent errors.</p>
<p>Here are a couple of important details about constructors that make them
different from other functions:</p>
<ul class="simple">
<li>The name of a constructor is <strong>always</strong> the name of its class.</li>
<li>Constructors don&#8217;t have a return type (not even <code class="docutils literal"><span class="pre">void</span></code>).</li>
</ul>
<div class="section" id="a-point-class">
<h2>A Point Class<a class="headerlink" href="#a-point-class" title="Permalink to this headline">¶</a></h2>
<p>Here&#8217;s another example of how to use a constructor. Here we&#8217;ve created a class
called <code class="docutils literal"><span class="pre">Point</span></code> that stores an (x, y) point:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Point</span> <span class="o">{</span>
  <span class="kt">float</span> <span class="n">x</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">y</span><span class="o">;</span>

  <span class="n">Point</span><span class="o">()</span> <span class="o">{</span>   <span class="c1">// constructor</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="n">Point</span><span class="o">(</span><span class="kt">float</span> <span class="n">x_init</span><span class="o">,</span> <span class="kt">float</span> <span class="n">y_init</span><span class="o">)</span> <span class="o">{</span>   <span class="c1">// constructor</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x_init</span><span class="o">;</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">y_init</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="n">Point</span><span class="o">(</span><span class="n">Point</span> <span class="n">other</span><span class="o">)</span> <span class="o">{</span>  <span class="c1">// copy constructor</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="na">x</span><span class="o">;</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="na">y</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot;(&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="s">&quot;)&quot;</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>This class has three constructors, <code class="docutils literal"><span class="pre">Point()</span></code>, <code class="docutils literal"><span class="pre">Point(x,</span> <span class="pre">y)</span></code>, and
<code class="docutils literal"><span class="pre">Point(other)</span></code>. Any of them can be used to create a <code class="docutils literal"><span class="pre">Point</span></code> object:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Point</span> <span class="n">origin</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Point</span><span class="o">();</span>
<span class="n">Point</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span>
<span class="n">Point</span> <span class="n">q</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>

<span class="n">origin</span><span class="o">.</span><span class="na">print</span><span class="o">();</span> <span class="c1">// (0, 0)</span>
<span class="n">p</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>      <span class="c1">// (3, 4)</span>
<span class="n">q</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>      <span class="c1">// (3, 4)</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">Point(other)</span></code> constructor is called a <strong>copy constructor</strong> because it
makes a copy of an object.</p>
<p>In general, a class can have as many constructors as it needs, so long as the
parameter lists are different for each constructor.</p>
</div>
<div class="section" id="a-timer-class">
<h2>A Timer Class<a class="headerlink" href="#a-timer-class" title="Permalink to this headline">¶</a></h2>
<p>Our final example of using constructors is in a handy class called <code class="docutils literal"><span class="pre">Timer</span></code>
that we can, among other things, use to control the speed of animations.</p>
<p>Here is the <code class="docutils literal"><span class="pre">Timer</span></code> class:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Timer</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">startTime</span><span class="o">;</span>

  <span class="n">Timer</span><span class="o">()</span> <span class="o">{</span>   <span class="c1">// constructor</span>
    <span class="n">reset</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">reset</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">startTime</span> <span class="o">=</span> <span class="n">millis</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kt">int</span> <span class="nf">elapsedMillis</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">millis</span><span class="o">()</span> <span class="o">-</span> <span class="n">startTime</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>You could use it like this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Timer</span> <span class="n">timer</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">timer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Timer</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">timer</span><span class="o">.</span><span class="na">elapsedMillis</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot;1 second has passed&quot;</span><span class="o">);</span>
    <span class="n">timer</span><span class="o">.</span><span class="na">reset</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>You can think of <code class="docutils literal"><span class="pre">timer</span></code> as being similar to a real stop-watch. When it is
created, or when it is reset, it is set to &#8220;0&#8221;. Then when
<code class="docutils literal"><span class="pre">timer.elapsedMillis()</span></code> is called, the number of milliseconds since the last
reset is returned.</p>
<p>So, in this program, after 1000 milliseconds (which equals 1 second) has
passed, we print a message and also reset the timer so that the message will
be printed again and again, forever.</p>
<p>Timers are very useful in animation. Below we provide two example programs:</p>
<ul class="simple">
<li>A program that draws a random rectangle on the screen every second.</li>
<li>A program that draws a &#8220;jiggling&#8221; square, that quickly rotates back and
forth. A timer is used to decided when the rotation changes direction.</li>
</ul>
</div>
<div class="section" id="random-rectangle-source-code">
<h2>Random Rectangle Source Code<a class="headerlink" href="#random-rectangle-source-code" title="Permalink to this headline">¶</a></h2>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Timer</span> <span class="n">timer</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">timer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Timer</span><span class="o">();</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="c1">// draw a new random rectangle every second</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">timer</span><span class="o">.</span><span class="na">elapsedMillis</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">1000</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">drawRandomRect</span><span class="o">();</span>
    <span class="n">timer</span><span class="o">.</span><span class="na">reset</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">drawRandomRect</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">pushMatrix</span><span class="o">();</span>
  <span class="n">noFill</span><span class="o">();</span>
  <span class="n">stroke</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="mi">256</span><span class="o">),</span><span class="n">random</span><span class="o">(</span><span class="mi">256</span><span class="o">),</span><span class="n">random</span><span class="o">(</span><span class="mi">256</span><span class="o">));</span>
  <span class="n">translate</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="n">width</span><span class="o">),</span> <span class="n">random</span><span class="o">(</span><span class="n">height</span><span class="o">));</span>
  <span class="n">rotate</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="mi">360</span><span class="o">)));</span>
  <span class="n">rect</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">random</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">200</span><span class="o">),</span> <span class="n">random</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">200</span><span class="o">));</span>
  <span class="n">popMatrix</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Timer</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">startTime</span><span class="o">;</span>

  <span class="n">Timer</span><span class="o">()</span> <span class="o">{</span>   <span class="c1">// constructor</span>
    <span class="n">reset</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">reset</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">startTime</span> <span class="o">=</span> <span class="n">millis</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kt">int</span> <span class="nf">elapsedMillis</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">millis</span><span class="o">()</span> <span class="o">-</span> <span class="n">startTime</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="jiggling-square-source-code">
<h2>Jiggling Square Source Code<a class="headerlink" href="#jiggling-square-source-code" title="Permalink to this headline">¶</a></h2>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Sprite</span> <span class="n">box</span><span class="o">;</span>
<span class="kt">float</span> <span class="n">angle</span><span class="o">;</span>    <span class="c1">// angle of the box</span>
<span class="kt">float</span> <span class="n">dA</span><span class="o">;</span>       <span class="c1">// rate of change of angle</span>

<span class="n">Timer</span> <span class="n">timer</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">changeMillis</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>

  <span class="n">rectMode</span><span class="o">(</span><span class="n">CENTER</span><span class="o">);</span>
  <span class="n">box</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sprite</span><span class="o">();</span>
  <span class="n">box</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="mi">250</span><span class="o">;</span>
  <span class="n">box</span><span class="o">.</span><span class="na">y</span> <span class="o">=</span> <span class="mi">250</span><span class="o">;</span>
  <span class="n">angle</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="n">dA</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">;</span>

  <span class="n">timer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Timer</span><span class="o">();</span>
  <span class="n">changeMillis</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>

  <span class="n">pushMatrix</span><span class="o">();</span>
  <span class="n">translate</span><span class="o">(</span><span class="n">box</span><span class="o">.</span><span class="na">x</span><span class="o">,</span> <span class="n">box</span><span class="o">.</span><span class="na">y</span><span class="o">);</span>
  <span class="n">rotate</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">angle</span><span class="o">));</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
  <span class="n">noStroke</span><span class="o">();</span>
  <span class="n">rect</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span>
  <span class="n">popMatrix</span><span class="o">();</span>

  <span class="k">if</span> <span class="o">(</span><span class="n">timer</span><span class="o">.</span><span class="na">elapsedMillis</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="n">changeMillis</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">dA</span> <span class="o">=</span> <span class="o">-</span><span class="n">dA</span><span class="o">;</span>
    <span class="n">timer</span><span class="o">.</span><span class="na">reset</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="n">angle</span> <span class="o">+=</span> <span class="n">dA</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Sprite</span> <span class="o">{</span>
  <span class="kt">float</span> <span class="n">x</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">y</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">dx</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">dy</span><span class="o">;</span>

  <span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">dx</span><span class="o">;</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Timer</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">startTime</span><span class="o">;</span>

  <span class="n">Timer</span><span class="o">()</span> <span class="o">{</span>   <span class="c1">// constructor</span>
    <span class="n">reset</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kt">int</span> <span class="nf">elapsedMillis</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">millis</span><span class="o">()</span> <span class="o">-</span> <span class="n">startTime</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">reset</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">startTime</span> <span class="o">=</span> <span class="n">millis</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="questions">
<h2>Questions<a class="headerlink" href="#questions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Mark each of the following statements as either <strong>true</strong> or <strong>false</strong>:<ul>
<li>The return type of a constructor is <code class="docutils literal"><span class="pre">void</span></code>.</li>
<li>A constructor must always have the same name as the class
it is in.</li>
<li>You can call a constructor on an object as many times as you like.</li>
<li>A class can have multiple constructors.</li>
<li>If you don&#8217;t create a constructor for a class, then Processing
automatically adds a constuctor that takes no parameters and does
nothing.</li>
</ul>
</li>
<li>What does the <code class="docutils literal"><span class="pre">millis()</span></code> function return?</li>
<li>What is a <strong>copy constructor</strong>? Give an example of one.</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="game_design_intro.html" title="Designing a Game"
             >next</a> |</li>
        <li class="right" >
          <a href="sprite_paratroopers.html" title="More Complex Animations with State Variables"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CMPT 166 Fall 2016 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Toby Donaldson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>