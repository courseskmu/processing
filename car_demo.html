<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>(Extra) Making a Car &mdash; CMPT 166 Fall 2016 1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="CMPT 166 Fall 2016 1 documentation" href="index.html" />
    <link rel="next" title="(Extra) Animated Sprites" href="animated_sprites.html" />
    <link rel="prev" title="(Extra) The Finch Robot" href="finch.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="animated_sprites.html" title="(Extra) Animated Sprites"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="finch.html" title="(Extra) The Finch Robot"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CMPT 166 Fall 2016 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">(Extra) Making a Car</a><ul>
<li><a class="reference internal" href="#the-car-class">The Car Class</a></li>
<li><a class="reference internal" href="#rendering-and-updating">Rendering and Updating</a></li>
<li><a class="reference internal" href="#visibility">Visibility</a></li>
<li><a class="reference internal" href="#velocity">Velocity</a></li>
<li><a class="reference internal" href="#scale">Scale</a></li>
<li><a class="reference internal" href="#using-the-car-class">Using the Car Class</a></li>
<li><a class="reference internal" href="#random-cars">Random Cars</a></li>
<li><a class="reference internal" href="#programming-questions">Programming Questions</a></li>
<li><a class="reference internal" href="#id1">The Car Class</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="finch.html"
                        title="previous chapter">(Extra) The Finch Robot</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="animated_sprites.html"
                        title="next chapter">(Extra) Animated Sprites</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="extra-making-a-car">
<h1>(Extra) Making a Car<a class="headerlink" href="#extra-making-a-car" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal"><span class="pre">Sprite</span></code> class we&#8217;ve been writing in the last few lessons can be
used as the basis for creating more complex animated objects. In this
note we&#8217;ll see how to create an animated car consisting of a number of
individual sprites.</p>
<div class="section" id="the-car-class">
<h2>The Car Class<a class="headerlink" href="#the-car-class" title="Permalink to this headline">¶</a></h2>
<p>Lets make a side-view of a 2-dimensional car. The car will consist of
three sprites: a body, a front wheel, and a back wheel. Right away
this lets us write some code:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>
   <span class="n">Sprite</span> <span class="n">body</span><span class="o">;</span>
   <span class="n">Sprite</span> <span class="n">frontWheel</span><span class="o">;</span>
   <span class="n">Sprite</span> <span class="n">backWheel</span><span class="o">;</span>

   <span class="n">Car</span><span class="o">()</span> <span class="o">{</span>
     <span class="n">body</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sprite</span><span class="o">(</span><span class="s">&quot;blueCarBody_small.png&quot;</span><span class="o">);</span>
     <span class="n">frontWheel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sprite</span><span class="o">(</span><span class="s">&quot;carWheel_small.png&quot;</span><span class="o">);</span>
     <span class="n">backWheel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sprite</span><span class="o">(</span><span class="s">&quot;carWheel_small.png&quot;</span><span class="o">);</span>
   <span class="o">}</span>

   <span class="c1">// ...</span>

 <span class="o">}</span> <span class="c1">// class Car</span>
</pre></div>
</div>
<p>Two image files are used here: <a class="reference download internal" href="_downloads/blueCarBody_small.png" download=""><code class="xref download docutils literal"><span class="pre">blueCarBody_small.png</span></code></a>, and <a class="reference download internal" href="_downloads/carWheel_small.png" download=""><code class="xref download docutils literal"><span class="pre">carWheel_small.png</span></code></a>. These ones were created using a
drawing program, and slightly edited to make them a little smaller. Of
course, you can replace these files with whatever graphics you like.</p>
<p>We also need to keep track of the position of the (x, y) position of
the entire car:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>
   <span class="kt">float</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">;</span>

   <span class="c1">// ...</span>

 <span class="o">}</span> <span class="c1">// class Car</span>
</pre></div>
</div>
</div>
<div class="section" id="rendering-and-updating">
<h2>Rendering and Updating<a class="headerlink" href="#rendering-and-updating" title="Permalink to this headline">¶</a></h2>
<p>Rendering and updating a <code class="docutils literal"><span class="pre">Car</span></code> object requires rendering and
updating its three constituent sprites. The <code class="docutils literal"><span class="pre">update()</span></code> function is
straightforward:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">body</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
  <span class="n">frontWheel</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
  <span class="n">backWheel</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Rendering is a little bit more involved because we need to specify the
location of the wheels on the car. The best way to do this is to use
the <code class="docutils literal"><span class="pre">translate</span></code> function because it applies to <em>all</em> the sprites:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">render</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">pushMatrix</span><span class="o">();</span>
  <span class="n">translate</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span>  <span class="c1">// move the origin here</span>
  <span class="n">body</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">translate</span><span class="o">(</span><span class="mi">50</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
  <span class="n">frontWheel</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">translate</span><span class="o">(-</span><span class="mi">75</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
  <span class="n">backWheel</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">popMatrix</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note the following:</p>
<ul>
<li><p class="first">The code in <code class="docutils literal"><span class="pre">render()</span></code> is wrapped in calls to <code class="docutils literal"><span class="pre">pushMatrix()</span></code> and
<code class="docutils literal"><span class="pre">popMatrix()</span></code> because it changes the entire coordinate system when
<code class="docutils literal"><span class="pre">translate</span></code> is called. This ensures that the coordinate system is
always reset to the way it was before the call to <code class="docutils literal"><span class="pre">render()</span></code>.</p>
</li>
<li><p class="first">After the body is rendered (by calling <code class="docutils literal"><span class="pre">body.render()</span></code>), the
wheels are drawn. The way to think about this is to imagine that the
car has been placed at (0, 0), and then to adjust the position of
the wheels relative to (0, 0). For example, before rendering
<code class="docutils literal"><span class="pre">frontWheel</span></code> we call <code class="docutils literal"><span class="pre">translate(50,</span> <span class="pre">50)</span></code>, which moves the wheel
50 pixels to the right and 50 pixels down.</p>
<p>The values for the wheel positions were chosen experimentally.</p>
</li>
</ul>
</div>
<div class="section" id="visibility">
<h2>Visibility<a class="headerlink" href="#visibility" title="Permalink to this headline">¶</a></h2>
<p>Our sprites are either visible or invisible, and so we can make a
<code class="docutils literal"><span class="pre">Car</span></code> object invisible by setting the <code class="docutils literal"><span class="pre">body</span></code>, <code class="docutils literal"><span class="pre">frontWheel</span></code>, and
<code class="docutils literal"><span class="pre">backWheel</span></code> to be invisible. We add two functions to do this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>
  <span class="c1">// ...</span>

  <span class="kt">void</span> <span class="nf">setVisible</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">body</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="n">frontWheel</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="n">backWheel</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">setInvisible</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">body</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="n">frontWheel</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="n">backWheel</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">// ...</span>

<span class="o">}</span> <span class="c1">// class Car</span>
</pre></div>
</div>
<p>These functions just set the visibility of the constituent objects.</p>
</div>
<div class="section" id="velocity">
<h2>Velocity<a class="headerlink" href="#velocity" title="Permalink to this headline">¶</a></h2>
<p>We also want to set the cars speed. The body and wheels should all
move at the same speed, and so we will add a function called
<code class="docutils literal"><span class="pre">setVelocity</span></code>:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>
   <span class="c1">// ...</span>

   <span class="kt">void</span> <span class="nf">setVelocity</span><span class="o">(</span><span class="kt">float</span> <span class="n">dx</span><span class="o">,</span> <span class="kt">float</span> <span class="n">dy</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">body</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="n">dx</span><span class="o">;</span>
     <span class="n">body</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="n">dy</span><span class="o">;</span>
     <span class="n">frontWheel</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="n">dx</span><span class="o">;</span>
     <span class="n">frontWheel</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="n">dy</span><span class="o">;</span>
     <span class="n">backWheel</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="n">dx</span><span class="o">;</span>
     <span class="n">backWheel</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="n">dy</span><span class="o">;</span>
   <span class="o">}</span>

   <span class="c1">// ...</span>

<span class="o">}</span> <span class="c1">// class Car</span>
</pre></div>
</div>
<p>The wheels of the car should rotate on their own, and so we add
<code class="docutils literal"><span class="pre">setWheelSpeed</span></code>:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>
   <span class="c1">// ...</span>

   <span class="kt">void</span> <span class="nf">setWheelSpinRateInDegrees</span><span class="o">(</span><span class="kt">float</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">frontWheel</span><span class="o">.</span><span class="na">spinRate</span> <span class="o">=</span> <span class="n">radians</span><span class="o">(</span><span class="n">rate</span><span class="o">);</span>
     <span class="n">backWheel</span><span class="o">.</span><span class="na">spinRate</span> <span class="o">=</span> <span class="n">radians</span><span class="o">(</span><span class="n">rate</span><span class="o">);</span>
   <span class="o">}</span>

   <span class="c1">// ...</span>

<span class="o">}</span> <span class="c1">// class Car</span>
</pre></div>
</div>
<p>The input parameter to <code class="docutils literal"><span class="pre">setWheelSpinRateInDegrees</span></code> is in degrees
simply because it is assumed the user of a <code class="docutils literal"><span class="pre">Car</span></code> object would prefer
degrees instead of radians.</p>
<p>The long function name is to take make it absolutely clear that the
<code class="docutils literal"><span class="pre">rate</span></code> is in degrees (and not radians).</p>
</div>
<div class="section" id="scale">
<h2>Scale<a class="headerlink" href="#scale" title="Permalink to this headline">¶</a></h2>
<p>Finally, lets add a variable to change the size of the car:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>

  <span class="c1">// ...</span>

  <span class="kt">float</span> <span class="n">imageScale</span><span class="o">;</span>

  <span class="n">Car</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// ...</span>

    <span class="n">imageScale</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">render</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">pushMatrix</span><span class="o">();</span>
    <span class="n">translate</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span>
    <span class="n">scale</span><span class="o">(</span><span class="n">imageScale</span><span class="o">);</span>

    <span class="c1">// ...</span>

    <span class="n">popMatrix</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="c1">// ...</span>

<span class="o">}</span> <span class="c1">// class Car</span>
</pre></div>
</div>
<p>By default, <code class="docutils literal"><span class="pre">imageScale</span></code> is set to 1, meaning that it will be drawn
at its natural size. Setting <code class="docutils literal"><span class="pre">imageScale</span></code> to, say, 2.5, will draw
the image at two-and-a-half times it natural size.</p>
<p>Like <code class="docutils literal"><span class="pre">translate</span></code> and <code class="docutils literal"><span class="pre">rotate</span></code>, the <code class="docutils literal"><span class="pre">scale</span></code> function applies to
the entire coordinate system: it shrinks/expands the distance between
every point of the coordinate system by the same given amount. Thus
every drawing command after a call to <code class="docutils literal"><span class="pre">scale</span></code> will be at the new
scale. For our car this means that the wheels are drawn at the correct
location on scaled-down or scaled-up images.</p>
</div>
<div class="section" id="using-the-car-class">
<h2>Using the Car Class<a class="headerlink" href="#using-the-car-class" title="Permalink to this headline">¶</a></h2>
<p>Now that our <code class="docutils literal"><span class="pre">Car</span></code> class is written, it is fun and easy to use. For
example:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Car</span> <span class="n">car</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">car</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Car</span><span class="o">();</span>
  <span class="n">car</span><span class="o">.</span><span class="na">setVelocity</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
  <span class="n">car</span><span class="o">.</span><span class="na">frontWheel</span><span class="o">.</span><span class="na">angle</span> <span class="o">=</span> <span class="n">radians</span><span class="o">(</span><span class="mi">40</span><span class="o">);</span> <span class="c1">// make the wheels look different</span>
  <span class="n">car</span><span class="o">.</span><span class="na">setWheelSpinRateInDegrees</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
  <span class="n">car</span><span class="o">.</span><span class="na">y</span> <span class="o">=</span> <span class="mi">200</span><span class="o">;</span>
  <span class="n">car</span><span class="o">.</span><span class="na">imageScale</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">;</span>
  <span class="n">car</span><span class="o">.</span><span class="na">setVisible</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>

  <span class="n">car</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">car</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Notice how simple the code is: most of our work is in creating and
initializing the <code class="docutils literal"><span class="pre">Car</span></code> object. It&#8217;s not hard to imagine that
someone, say, an artist or designer, could learn to use code like this
without having to become a <a class="reference external" href="http://processing.org/">Processing</a> expert.</p>
</div>
<div class="section" id="random-cars">
<h2>Random Cars<a class="headerlink" href="#random-cars" title="Permalink to this headline">¶</a></h2>
<p>Lets create a demo program that has multiple cars moving across the
screen at different speeds. The position, velocity, and size of the
cars will be chosen at random.</p>
<a class="reference internal image-reference" href="_images/randomCars.png"><img alt="Some random cars." class="align-center" src="_images/randomCars.png" style="width: 251.0px; height: 251.0px;" /></a>
<p>The first thing we need is an <code class="docutils literal"><span class="pre">ArrayList</span></code> to store our <code class="docutils literal"><span class="pre">Car</span></code>
objects:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">final</span> <span class="kt">int</span> <span class="n">NUM_CARS</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
<span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Car</span><span class="o">&gt;</span> <span class="n">cars</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>

  <span class="n">cars</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Car</span><span class="o">&gt;();</span>
  <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cars</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// ... initialize cars...</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>

  <span class="k">for</span><span class="o">(</span><span class="n">Car</span> <span class="n">c</span> <span class="o">:</span> <span class="n">cars</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">c</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
    <span class="n">c</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Now we want to create some cars with a random position, size, and
velocity. The best way to do that is to write a function that returns
new <code class="docutils literal"><span class="pre">Car</span></code> objects that have been initialized the way we want:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Car</span> <span class="nf">makeRandomCar</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">Car</span> <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Car</span><span class="o">();</span>

  <span class="n">c</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="o">;</span>
  <span class="n">c</span><span class="o">.</span><span class="na">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">450</span><span class="o">);</span>

  <span class="n">c</span><span class="o">.</span><span class="na">imageScale</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mf">0.25</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>

  <span class="kt">float</span> <span class="n">dx</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mf">0.5</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
  <span class="n">c</span><span class="o">.</span><span class="na">setVelocity</span><span class="o">(</span><span class="n">dx</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
  <span class="n">c</span><span class="o">.</span><span class="na">setWheelSpinRateInDegrees</span><span class="o">(</span><span class="n">dx</span><span class="o">);</span>

  <span class="n">c</span><span class="o">.</span><span class="na">setVisible</span><span class="o">();</span>
  <span class="k">return</span> <span class="n">c</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note the following:</p>
<ul class="simple">
<li>The name of this function is <code class="docutils literal"><span class="pre">makeRandomCar</span></code>, and it returns a new
object of type <code class="docutils literal"><span class="pre">Car</span></code>. It doesn&#8217;t take any input.</li>
<li>The statement <code class="docutils literal"><span class="pre">random(x,</span> <span class="pre">y)</span></code> returns a random number between <code class="docutils literal"><span class="pre">x</span></code>
and <code class="docutils literal"><span class="pre">y</span></code>. The particular values used for <code class="docutils literal"><span class="pre">random</span></code> in this
function were chosen experimentally.</li>
</ul>
<p>Using <code class="docutils literal"><span class="pre">makeRandomCar</span></code> is easy; we just call inside the loop used to
initialize the <code class="docutils literal"><span class="pre">car</span></code> array:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>

  <span class="n">cars</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Car</span><span class="o">&gt;();</span>
  <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cars</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">randCar</span> <span class="o">=</span> <span class="n">makeRandomCar</span><span class="o">();</span>
    <span class="n">cars</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">randCar</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>

  <span class="k">for</span> <span class="o">(</span><span class="n">Car</span> <span class="n">c</span> <span class="o">:</span> <span class="n">cars</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">c</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
    <span class="n">c</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="programming-questions">
<h2>Programming Questions<a class="headerlink" href="#programming-questions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Add a <code class="docutils literal"><span class="pre">void</span></code> function called <code class="docutils literal"><span class="pre">honk()</span></code> to the <code class="docutils literal"><span class="pre">Car</span></code> class
that, when called, will make the car&#8217;s horn honk, e.g.:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Car</span> <span class="n">c</span><span class="o">;</span>
<span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Car</span><span class="o">();</span>
<span class="n">c</span><span class="o">.</span><span class="na">honk</span><span class="o">();</span>  <span class="c1">// makes a honking sound</span>
</pre></div>
</div>
</li>
<li><p class="first">Write a program that makes a car drive across the screen and
explode when it hits the right edge. Use the <code class="docutils literal"><span class="pre">Explosion</span></code> class to
do this.</p>
</li>
</ol>
</div>
<div class="section" id="id1">
<h2>The Car Class<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>
  <span class="kt">float</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">;</span>  <span class="c1">// position of the entire car</span>
  <span class="kt">float</span> <span class="n">imageScale</span><span class="o">;</span>

  <span class="n">Sprite</span> <span class="n">body</span><span class="o">;</span>
  <span class="n">Sprite</span> <span class="n">frontWheel</span><span class="o">;</span>
  <span class="n">Sprite</span> <span class="n">backWheel</span><span class="o">;</span>

  <span class="n">Car</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">body</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sprite</span><span class="o">(</span><span class="s">&quot;blueCarBody_small.png&quot;</span><span class="o">);</span>
    <span class="n">frontWheel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sprite</span><span class="o">(</span><span class="s">&quot;carWheel_small.png&quot;</span><span class="o">);</span>
    <span class="n">backWheel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sprite</span><span class="o">(</span><span class="s">&quot;carWheel_small.png&quot;</span><span class="o">);</span>
    <span class="n">imageScale</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">body</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
    <span class="n">frontWheel</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
    <span class="n">backWheel</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">render</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">pushMatrix</span><span class="o">();</span>
    <span class="n">translate</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span>  <span class="c1">// move the origin here</span>
    <span class="n">scale</span><span class="o">(</span><span class="n">imageScale</span><span class="o">);</span>
    <span class="n">body</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
    <span class="n">translate</span><span class="o">(</span><span class="mi">50</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
    <span class="n">frontWheel</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
    <span class="n">translate</span><span class="o">(-</span><span class="mi">75</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
    <span class="n">backWheel</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
    <span class="n">popMatrix</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">setVisible</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">body</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="n">frontWheel</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="n">backWheel</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">setInvisible</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">body</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="n">frontWheel</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="n">backWheel</span><span class="o">.</span><span class="na">visible</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">setVelocity</span><span class="o">(</span><span class="kt">float</span> <span class="n">dx</span><span class="o">,</span> <span class="kt">float</span> <span class="n">dy</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">body</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="n">dx</span><span class="o">;</span>
    <span class="n">body</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="n">dy</span><span class="o">;</span>
    <span class="n">frontWheel</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="n">dx</span><span class="o">;</span>
    <span class="n">frontWheel</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="n">dy</span><span class="o">;</span>
    <span class="n">backWheel</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="n">dx</span><span class="o">;</span>
    <span class="n">backWheel</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="n">dy</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">setWheelSpinRateInDegrees</span><span class="o">(</span><span class="kt">float</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">frontWheel</span><span class="o">.</span><span class="na">spinRate</span> <span class="o">=</span> <span class="n">radians</span><span class="o">(</span><span class="n">rate</span><span class="o">);</span>
    <span class="n">backWheel</span><span class="o">.</span><span class="na">spinRate</span> <span class="o">=</span> <span class="n">radians</span><span class="o">(</span><span class="n">rate</span><span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span> <span class="c1">// class Car</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="animated_sprites.html" title="(Extra) Animated Sprites"
             >next</a> |</li>
        <li class="right" >
          <a href="finch.html" title="(Extra) The Finch Robot"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CMPT 166 Fall 2016 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Toby Donaldson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>