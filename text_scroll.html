<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Scrolling Text &mdash; CMPT 166 Fall 2016 1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="CMPT 166 Fall 2016 1 documentation" href="index.html" />
    <link rel="next" title="Example: A Ball that Bounces and Pulses" href="pulsing_ball.html" />
    <link rel="prev" title="Fonts" href="fonts_old.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="pulsing_ball.html" title="Example: A Ball that Bounces and Pulses"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="fonts_old.html" title="Fonts"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CMPT 166 Fall 2016 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Scrolling Text</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#program-1-basic-upwards-scrolling">Program 1: Basic Upwards Scrolling</a></li>
<li><a class="reference internal" href="#program-2-stopping-and-fading-away">Program 2: Stopping and Fading Away</a></li>
<li><a class="reference internal" href="#questions">Questions</a></li>
<li><a class="reference internal" href="#programming-questions">Programming Questions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="fonts_old.html"
                        title="previous chapter">Fonts</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pulsing_ball.html"
                        title="next chapter">Example: A Ball that Bounces and Pulses</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="scrolling-text">
<h1>Scrolling Text<a class="headerlink" href="#scrolling-text" title="Permalink to this headline">¶</a></h1>
<p>In these notes you will learn:</p>
<ul class="simple">
<li>How to make upwards-scrolling movie credits.</li>
<li>How to make move credits that fade away.</li>
</ul>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Now that we&#8217;ve seen how to use strings and fonts, lets look at an interesting
application: scrolling text.</p>
<p>No doubt you&#8217;ve seen dozens of credit-lists at the end of movies and TV shows
that slowly move up the screen. In this note we&#8217;ll write some programs that
simulate movie credit scrolls.</p>
<p>To be concrete, suppose we want to scroll these cast credits from the movie
<a class="reference external" href="http://www.imdb.com/title/tt0036775/">Double Indemnity</a>:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Fred</span> <span class="n">MacMurray</span>       <span class="o">...</span>   <span class="n">Walter</span> <span class="n">Neff</span>
<span class="n">Barbara</span> <span class="n">Stanwyck</span>     <span class="o">...</span>   <span class="n">Phyllis</span> <span class="n">Dietrichson</span>
<span class="n">Edward</span> <span class="n">G</span><span class="o">.</span> <span class="n">Robinson</span>   <span class="o">...</span>   <span class="n">Barton</span> <span class="n">Keyes</span>
</pre></div>
</div>
</div>
<div class="section" id="program-1-basic-upwards-scrolling">
<h2>Program 1: Basic Upwards Scrolling<a class="headerlink" href="#program-1-basic-upwards-scrolling" title="Permalink to this headline">¶</a></h2>
<p>Since we only have three lines of text to scroll, we&#8217;ll store each line in a
separate <code class="docutils literal"><span class="pre">String</span></code> variable:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">String</span> <span class="n">line1</span><span class="o">;</span>
<span class="n">String</span> <span class="n">line2</span><span class="o">;</span>
<span class="n">String</span> <span class="n">line3</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
   <span class="c1">// ...</span>
   <span class="n">line1</span> <span class="o">=</span> <span class="s">&quot;Fred MacMurray       ...   Walter Neff&quot;</span><span class="o">;</span>
   <span class="n">line2</span> <span class="o">=</span> <span class="s">&quot;Barbara Stanwyck     ...   Phyllis Dietrichson&quot;</span><span class="o">;</span>
   <span class="n">line3</span> <span class="o">=</span> <span class="s">&quot;Edward G. Robinson   ...   Barton Keyes&quot;</span><span class="o">;</span>
   <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Later in the course we&#8217;ll see that arrays are usually a better way of storing
multiple strings.</p>
<p>Before we worry about the scrolling, lets first neatly display these three
strings on the screen:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">PFont</span> <span class="n">font</span><span class="o">;</span>

<span class="kt">float</span> <span class="n">x</span><span class="o">;</span>   <span class="c1">// (x, y) is the position of the first line</span>
<span class="kt">float</span> <span class="n">y</span><span class="o">;</span>

<span class="kt">float</span> <span class="n">lineSep</span><span class="o">;</span>  <span class="c1">// distance between each line</span>

<span class="n">String</span> <span class="n">line1</span><span class="o">;</span>
<span class="n">String</span> <span class="n">line2</span><span class="o">;</span>
<span class="n">String</span> <span class="n">line3</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">750</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">font</span> <span class="o">=</span> <span class="n">loadFont</span><span class="o">(</span><span class="s">&quot;Purisa-48.vlw&quot;</span><span class="o">);</span>
  <span class="n">textFont</span><span class="o">(</span><span class="n">font</span><span class="o">);</span>

  <span class="n">x</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
  <span class="n">y</span> <span class="o">=</span> <span class="mi">500</span><span class="o">;</span>
  <span class="n">lineSep</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>

  <span class="n">line1</span> <span class="o">=</span> <span class="s">&quot;Fred MacMurray       ...   Walter Neff&quot;</span><span class="o">;</span>
  <span class="n">line2</span> <span class="o">=</span> <span class="s">&quot;Barbara Stanwyck     ...   Phyllis Dietrichson&quot;</span><span class="o">;</span>
  <span class="n">line3</span> <span class="o">=</span> <span class="s">&quot;Edward G. Robinson   ...   Barton Keyes&quot;</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span><span class="n">line1</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span><span class="n">line2</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">lineSep</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span><span class="n">line3</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">lineSep</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The structure of this program is very similar to previous programs that
display text on the screen. The big difference here is that we are displaying
three different lines of text, and we use <code class="docutils literal"><span class="pre">lineSep</span></code> to space them out
properly.</p>
<p>Now getting the scrolling to work is not too hard. We need to do a couple of
things:</p>
<ul class="simple">
<li>Add a <code class="docutils literal"><span class="pre">dy</span></code> variable to control the vertical movement of the scrolling
text.</li>
<li>Set the initial value of <code class="docutils literal"><span class="pre">y</span></code> so that the scroll begins at the bottom of
the screen.</li>
</ul>
<p id="credit-scroll-up-label">Here is the modified code:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">PFont</span> <span class="n">font</span><span class="o">;</span>

<span class="kt">float</span> <span class="n">x</span><span class="o">;</span>   <span class="c1">// (x, y) is the position of the first line</span>
<span class="kt">float</span> <span class="n">y</span><span class="o">;</span>

<span class="kt">float</span> <span class="n">dy</span><span class="o">;</span>  <span class="c1">// scroll velocity</span>

<span class="kt">float</span> <span class="n">lineSep</span><span class="o">;</span>  <span class="c1">// distance between each line</span>

<span class="n">String</span> <span class="n">line1</span><span class="o">;</span>
<span class="n">String</span> <span class="n">line2</span><span class="o">;</span>
<span class="n">String</span> <span class="n">line3</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">750</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">font</span> <span class="o">=</span> <span class="n">loadFont</span><span class="o">(</span><span class="s">&quot;Purisa-48.vlw&quot;</span><span class="o">);</span>
  <span class="n">textFont</span><span class="o">(</span><span class="n">font</span><span class="o">,</span> <span class="mi">32</span><span class="o">);</span>

  <span class="c1">// values for x and lineSep were chosen by experimentation</span>
  <span class="n">x</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
  <span class="n">y</span> <span class="o">=</span> <span class="mi">550</span><span class="o">;</span>
  <span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="n">lineSep</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>

  <span class="n">line1</span> <span class="o">=</span> <span class="s">&quot;Fred MacMurray       ...   Walter Neff&quot;</span><span class="o">;</span>
  <span class="n">line2</span> <span class="o">=</span> <span class="s">&quot;Barbara Stanwyck     ...   Phyllis Dietrichson&quot;</span><span class="o">;</span>
  <span class="n">line3</span> <span class="o">=</span> <span class="s">&quot;Edward G. Robinson   ...   Barton Keyes&quot;</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span><span class="n">line1</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span><span class="n">line2</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">lineSep</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span><span class="n">line3</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">lineSep</span><span class="o">);</span>

  <span class="c1">// move the text</span>
  <span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="program-2-stopping-and-fading-away">
<h2>Program 2: Stopping and Fading Away<a class="headerlink" href="#program-2-stopping-and-fading-away" title="Permalink to this headline">¶</a></h2>
<p>One of the many variations on credit-scrolling is to have the text scroll up
to the middle of the screen, stop, and then fade away. To achieve this we will
have to make two main modifications to our previous program:</p>
<ol class="arabic simple">
<li>Add if-statements to check when the text has reached the middle of the
screen. This is just a variation on checking for the edges of the screen,
which we&#8217;ve seen a number of times now.</li>
<li>Add code to cause the text to fade away.  We&#8217;ll need two new <code class="docutils literal"><span class="pre">float</span></code>
variables:<ul>
<li><code class="docutils literal"><span class="pre">transparency</span></code> is a value between 0 and 1 that represents the current
level of transparency for the on-screen text;</li>
<li><code class="docutils literal"><span class="pre">dt</span></code> is the rate at which the transparency changes.</li>
</ul>
</li>
</ol>
<p>Here is the code:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">PFont</span> <span class="n">font</span><span class="o">;</span>

<span class="kt">float</span> <span class="n">x</span><span class="o">;</span>   <span class="c1">// (x, y) is the position of the first line</span>
<span class="kt">float</span> <span class="n">y</span><span class="o">;</span>

<span class="kt">float</span> <span class="n">dy</span><span class="o">;</span>  <span class="c1">// scroll velocity</span>

<span class="kt">float</span> <span class="n">lineSep</span><span class="o">;</span>  <span class="c1">// distance between each line</span>

<span class="kt">float</span> <span class="n">transparency</span><span class="o">;</span>  <span class="c1">// how transparent is the text: between 0 and 1</span>
<span class="kt">float</span> <span class="n">dt</span><span class="o">;</span>  <span class="c1">// the rate at which transparency changes</span>

<span class="n">String</span> <span class="n">line1</span><span class="o">;</span>
<span class="n">String</span> <span class="n">line2</span><span class="o">;</span>
<span class="n">String</span> <span class="n">line3</span><span class="o">;</span>


<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">750</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">font</span> <span class="o">=</span> <span class="n">loadFont</span><span class="o">(</span><span class="s">&quot;Purisa-48.vlw&quot;</span><span class="o">);</span>
  <span class="n">textFont</span><span class="o">(</span><span class="n">font</span><span class="o">,</span> <span class="mi">32</span><span class="o">);</span>

  <span class="n">x</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
  <span class="n">y</span> <span class="o">=</span> <span class="mi">550</span><span class="o">;</span>
  <span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="n">lineSep</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>

  <span class="n">transparency</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="n">dt</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

  <span class="n">line1</span> <span class="o">=</span> <span class="s">&quot;Fred MacMurray       ...   Walter Neff&quot;</span><span class="o">;</span>
  <span class="n">line2</span> <span class="o">=</span> <span class="s">&quot;Barbara Stanwyck     ...   Phyllis Dietrichson&quot;</span><span class="o">;</span>
  <span class="n">line3</span> <span class="o">=</span> <span class="s">&quot;Edward G. Robinson   ...   Barton Keyes&quot;</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
  <span class="n">fill</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">map</span><span class="o">(</span><span class="n">transparency</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">));</span>
  <span class="n">text</span><span class="o">(</span><span class="n">line1</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span><span class="n">line2</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">lineSep</span><span class="o">);</span>
  <span class="n">text</span><span class="o">(</span><span class="n">line3</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">lineSep</span><span class="o">);</span>

  <span class="c1">// stop moving when text has reached the middle</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>      <span class="c1">// stop the text from moving</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.01</span><span class="o">;</span>  <span class="c1">// start decreasing the text&#39;s transparency</span>
  <span class="o">}</span>

  <span class="c1">// move the text</span>
  <span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span><span class="o">;</span>

  <span class="c1">// change the transparency</span>
  <span class="n">transparency</span> <span class="o">+=</span> <span class="n">dt</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="questions">
<h2>Questions<a class="headerlink" href="#questions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Describe the purpose of the <code class="docutils literal"><span class="pre">lineSep</span></code> variable.</li>
</ol>
</div>
<div class="section" id="programming-questions">
<h2>Programming Questions<a class="headerlink" href="#programming-questions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Modify <a class="reference internal" href="#credit-scroll-up-label"><span>the first credit scroll program</span></a> so
that the credits scroll down instead of up. They should start entirely off
the screen and then scroll down and off the bottom</li>
<li>Modify <a class="reference internal" href="#credit-scroll-up-label"><span>the first credit scroll program</span></a> so
that the credits scroll from left to right. The credits should just scroll
off the right edge of the screen.</li>
<li>Modify <a class="reference internal" href="#credit-scroll-up-label"><span>the first credit scroll program</span></a> so
that the credits continuously &#8220;bounce&#8221; from left to right and right to left
at a constant speed. No part of any of the credits should ever be off the
screen.</li>
<li>Write a program that displays the three strings in the sample programs as
follows: the screen starts out empty, and the first name slowly fades in,
stays on the screen for a while, and then slowly fades out. Then the next
two names appear and disappear in the same way.</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="pulsing_ball.html" title="Example: A Ball that Bounces and Pulses"
             >next</a> |</li>
        <li class="right" >
          <a href="fonts_old.html" title="Fonts"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CMPT 166 Fall 2016 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Toby Donaldson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>