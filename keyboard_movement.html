<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Handling the Keyboard &mdash; CMPT 166 Fall 2016 1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="CMPT 166 Fall 2016 1 documentation" href="index.html" />
    <link rel="next" title="One-shot Programming Problems" href="oneShot1.html" />
    <link rel="prev" title="Random Numbers" href="random_numbers.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="oneShot1.html" title="One-shot Programming Problems"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="random_numbers.html" title="Random Numbers"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CMPT 166 Fall 2016 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Handling the Keyboard</a><ul>
<li><a class="reference internal" href="#a-box-class">A Box Class</a></li>
<li><a class="reference internal" href="#key-presses-and-key-releases">Key Presses and Key Releases</a></li>
<li><a class="reference internal" href="#moving-the-sprite">Moving the Sprite</a></li>
<li><a class="reference internal" href="#handling-arrow-keys">Handling Arrow Keys</a></li>
<li><a class="reference internal" href="#changing-the-sprite">Changing the Sprite</a></li>
<li><a class="reference internal" href="#questions">Questions</a></li>
<li><a class="reference internal" href="#programming-questions">Programming Questions</a></li>
<li><a class="reference internal" href="#final-program">Final Program</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="random_numbers.html"
                        title="previous chapter">Random Numbers</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="oneShot1.html"
                        title="next chapter">One-shot Programming Problems</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="handling-the-keyboard">
<h1>Handling the Keyboard<a class="headerlink" href="#handling-the-keyboard" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://processing.org/">Processing</a> has built-in support for reading key-presses and key-releases from
the keyboard. So in this note we&#8217;ll make a program that lets the user move a
box around the screen using both the WASD keys and the arrow keys.</p>
<div class="section" id="a-box-class">
<h2>A Box Class<a class="headerlink" href="#a-box-class" title="Permalink to this headline">¶</a></h2>
<p>First, lets create a class called <code class="docutils literal"><span class="pre">Box</span></code> that will draw the sprite we will be
moving around the screen:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Sprite</span> <span class="o">{</span>
  <span class="kt">float</span> <span class="n">x</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">y</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">dx</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">dy</span><span class="o">;</span>

  <span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">dx</span><span class="o">;</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Box</span> <span class="kd">extends</span> <span class="n">Sprite</span> <span class="o">{</span>
  <span class="n">String</span> <span class="n">state</span><span class="o">;</span> <span class="c1">// &quot;square&quot;, &quot;circle&quot;</span>
  <span class="kt">float</span> <span class="n">radius</span><span class="o">;</span>

  <span class="c1">// constructor</span>
  <span class="n">Box</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="s">&quot;circle&quot;</span><span class="o">;</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="kt">void</span> <span class="nf">render</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;square&quot;</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">rectMode</span><span class="o">(</span><span class="n">CENTER</span><span class="o">);</span>
      <span class="n">noStroke</span><span class="o">();</span>
      <span class="n">fill</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
      <span class="n">rect</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">radius</span><span class="o">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">radius</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;circle&quot;</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">noStroke</span><span class="o">();</span>
      <span class="n">fill</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
      <span class="n">ellipse</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">radius</span><span class="o">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">radius</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">constrain</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">radius</span><span class="o">,</span> <span class="n">width</span> <span class="o">-</span> <span class="n">radius</span><span class="o">);</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">constrain</span><span class="o">(</span><span class="n">y</span><span class="o">,</span> <span class="n">radius</span><span class="o">,</span> <span class="n">height</span> <span class="o">-</span> <span class="n">radius</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">halt</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">flipState</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;square&quot;</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">state</span> <span class="o">=</span> <span class="s">&quot;circle&quot;</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;circle&quot;</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">state</span> <span class="o">=</span> <span class="s">&quot;square&quot;</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">increaseSize</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">radius</span> <span class="o">+=</span> <span class="mi">5</span><span class="o">;</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="n">constrain</span><span class="o">(</span><span class="n">radius</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">decreaseSize</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">radius</span> <span class="o">+=</span> <span class="o">-</span><span class="mi">5</span><span class="o">;</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="n">constrain</span><span class="o">(</span><span class="n">radius</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span> <span class="c1">// class Box</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Box</span></code> includes these functions:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Box</span></code>, a <em>default constructor</em>, that initializes the variables with the
values we want them to have. This constructor is called whenever we create a
new <code class="docutils literal"><span class="pre">Box</span></code> object, e.g. in statements like this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Box</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Box</span><span class="o">();</span>   <span class="c1">// Box constructor called</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">render</span></code>, for drawing the <code class="docutils literal"><span class="pre">Box</span></code>, either as a circle or a square
(depending upon the value of <code class="docutils literal"><span class="pre">state</span></code>). Note that the square is drawn using
<code class="docutils literal"><span class="pre">rectMode(CENTER)</span></code> so that it appears in the same position as the circle.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">update</span></code>, which first calls the <code class="docutils literal"><span class="pre">update()</span></code> function in the <code class="docutils literal"><span class="pre">Sprite</span></code>
class, and then uses <code class="docutils literal"><span class="pre">constrain</span></code> to make sure the sprite is always on the
screen.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">halt</span></code>, for stopping the sprite.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">flipState</span></code>, for changing it from a circle to square, and vice-versa.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">increaseSize()</span></code> and <code class="docutils literal"><span class="pre">decreaseSize()</span></code>, for changing the size of the
sprite. Note how these functions use <code class="docutils literal"><span class="pre">constrain</span></code> to keep the sprite from
getting too small or too big.</p>
</li>
</ul>
<p>Here&#8217;s our starting program, which draws a non-moving square in the middle of
the screen:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Box</span> <span class="n">box</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">box</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Box</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
  <span class="n">box</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">box</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="key-presses-and-key-releases">
<h2>Key Presses and Key Releases<a class="headerlink" href="#key-presses-and-key-releases" title="Permalink to this headline">¶</a></h2>
<p>The keyboard is complex piece of hardware. Not only does it have many
different keys, but it also allows more than one key to be pressed at once,
allowing you type things like Q, or shift-Q, or alt-Q, or ctrl-Q, etc.</p>
<p>An individual key-press consists of two distinct actions: <strong>pressing</strong> the
key, and then <strong>releasing</strong> the key. <a class="reference external" href="http://processing.org/">Processing</a> treats these as two different
events that you can handle in whatever way you like using these functions:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">keyPressed</span><span class="o">()</span> <span class="o">{</span>
  <span class="c1">// automatically called when any key is pressed</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">keyReleased</span><span class="o">()</span> <span class="o">{</span>
  <span class="c1">// automatically called when any key is released</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="moving-the-sprite">
<h2>Moving the Sprite<a class="headerlink" href="#moving-the-sprite" title="Permalink to this headline">¶</a></h2>
<p>Lets move the sprite by pressing the WASD keys, where W is up, S is down, A is
left, and D is right. Lets agree that we only want the sprite to move while
the corresponding key is being pressed:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">keyPressed</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;w&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;W&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// up</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;s&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;S&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// down</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;a&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;A&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// left</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;d&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;D&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// right</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">keyReleased</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;w&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;W&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// up</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;s&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;S&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// down</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;a&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;A&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// left</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;d&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;D&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// right</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Notice a couple of important things here:</p>
<ul class="simple">
<li>We check for both the lowercase and uppercase versions of the letter. So if
the CAPS-LOCK key happens to be on the sprite will still move. Recall that
<code class="docutils literal"><span class="pre">||</span></code> means &#8220;or&#8221;.</li>
<li>When, say, the W key is <em>pressed</em> down, the object starts moving. It doesn&#8217;t
stop moving until the the W key is <em>released</em>. Thus, we need to use both the
<code class="docutils literal"><span class="pre">keyPressed</span></code> and <code class="docutils literal"><span class="pre">keyReleased</span></code> functions.</li>
<li>The special <a class="reference external" href="http://processing.org/">Processing</a> variable <code class="docutils literal"><span class="pre">key</span></code> is of type <code class="docutils literal"><span class="pre">char</span></code>, and things
like <code class="docutils literal"><span class="pre">'s'</span></code> and <code class="docutils literal"><span class="pre">'D'</span></code> are examples of <code class="docutils literal"><span class="pre">char</span></code> literals. Notice how they
are wrapped in single-quotes, and not double-quotes (only <code class="docutils literal"><span class="pre">String</span></code>
literals are wrapped in double quotes). Also, notice that <code class="docutils literal"><span class="pre">==</span></code> (not
<code class="docutils literal"><span class="pre">.equals</span></code>, which is used to compare strings) is used to test if two
characters are the same.</li>
</ul>
</div>
<div class="section" id="handling-arrow-keys">
<h2>Handling Arrow Keys<a class="headerlink" href="#handling-arrow-keys" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://processing.org/">Processing</a> treats the arrow-keys as specially encoded keys that are handled
slightly differently from letter-keys (like W, A, S, and D). You need to check
two variables to see if an arrow key is pressed, e.g.:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">UP</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s">&quot;up arrow pressed&quot;</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>When you press and arrow key, <a class="reference external" href="http://processing.org/">Processing</a> assigns <code class="docutils literal"><span class="pre">key</span></code> the special value
<code class="docutils literal"><span class="pre">CODED</span></code>, and then assigns the variable <code class="docutils literal"><span class="pre">keyCode</span></code> the value of the key that
was pressed.</p>
<p>So, to handle arrow keys, we re-write <code class="docutils literal"><span class="pre">keyPressed</span></code> and <code class="docutils literal"><span class="pre">keyReleased</span></code> like
this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">keyPressed</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">UP</span><span class="o">)</span>
       <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;w&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;W&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// up</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">DOWN</span><span class="o">)</span>
              <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;s&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;S&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// down</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">LEFT</span><span class="o">)</span>
              <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;a&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;A&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// left</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">RIGHT</span><span class="o">)</span>
              <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;d&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;D&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// right</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">keyReleased</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">UP</span><span class="o">)</span>
       <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;w&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;W&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// up</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">DOWN</span><span class="o">)</span>
              <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;s&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;S&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// down</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">LEFT</span><span class="o">)</span>
              <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;a&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;A&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// left</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">RIGHT</span><span class="o">)</span>
              <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;d&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;D&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// right</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The if-statement expressions are starting to get long and messy, and so we
split them into lines.</p>
<p>With this change the user can now move the sprite using either the WASD key,
or the arrow keys &#8212; whichever they prefer.</p>
</div>
<div class="section" id="changing-the-sprite">
<h2>Changing the Sprite<a class="headerlink" href="#changing-the-sprite" title="Permalink to this headline">¶</a></h2>
<p>Finally, lets allow the user to change the sprite from a circle to a square
(or vice versa) by pressing the space bar, and to increase, or decrease, the
size of the sprite using <code class="docutils literal"><span class="pre">-</span></code> and <code class="docutils literal"><span class="pre">+</span></code>. Only the <code class="docutils literal"><span class="pre">keyPressed</span></code> function
needs to be changed:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">keyPressed</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;-&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;_&#39;</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">box</span><span class="o">.</span><span class="na">decreaseSize</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;+&#39;</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">box</span><span class="o">.</span><span class="na">increaseSize</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39; &#39;</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">box</span><span class="o">.</span><span class="na">flipState</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">UP</span><span class="o">)</span>
              <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;w&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;W&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// up</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">DOWN</span><span class="o">)</span>
              <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;s&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;S&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// down</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">LEFT</span><span class="o">)</span>
              <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;a&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;A&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// left</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">RIGHT</span><span class="o">)</span>
              <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;d&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;D&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// right</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Notice that <code class="docutils literal"><span class="pre">_</span></code> can also be used to decrease the size of the sprite. This
makes it easy to hold down the shift key and alternate between pressing the
<code class="docutils literal"><span class="pre">+</span></code> and <code class="docutils literal"><span class="pre">-</span></code> keys.</p>
</div>
<div class="section" id="questions">
<h2>Questions<a class="headerlink" href="#questions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Explain in brief, clear English the difference between a key-<em>press</em> and a
key-<em>release</em>.</li>
<li>Why does the program check for <em>both</em> the lowercase and uppercase versions
of keys?</li>
<li>What is the data <em>type</em> of the pre-defined <a class="reference external" href="http://processing.org/">Processing</a> variable <code class="docutils literal"><span class="pre">key</span></code>?</li>
<li>Describe, in English, how the sprite moves if you comment-out the entire
<code class="docutils literal"><span class="pre">keyReleased</span></code> function.</li>
</ol>
</div>
<div class="section" id="programming-questions">
<h2>Programming Questions<a class="headerlink" href="#programming-questions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Modify the program so that when the user presses one of the digit keys
<code class="docutils literal"><span class="pre">'0'</span></code>, <code class="docutils literal"><span class="pre">'1'</span></code>, <code class="docutils literal"><span class="pre">'2'</span></code>, ..., <code class="docutils literal"><span class="pre">'9'</span></code>, the speed of movement is set to be
that number. For example, pressing <code class="docutils literal"><span class="pre">'4'</span></code> will cause the sprite to move 4
pixels per frame for the rest of the program (or until the user presses
another digit key). If the user presses <code class="docutils literal"><span class="pre">'0'</span></code>, the sprite will not move
at all (i.e. it will move at 0 pixels per frame).</p>
<p>To aid with this, write a helper function called <code class="docutils literal"><span class="pre">isDigit</span></code> with this
structure:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">boolean</span> <span class="nf">isDigit</span><span class="o">(</span><span class="kt">char</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>It should return <code class="docutils literal"><span class="pre">true</span></code> just when <code class="docutils literal"><span class="pre">c</span></code> is one of <code class="docutils literal"><span class="pre">'0'</span></code>, <code class="docutils literal"><span class="pre">'1'</span></code>,
<code class="docutils literal"><span class="pre">'2'</span></code>, ..., or <code class="docutils literal"><span class="pre">'9'</span></code>, and <code class="docutils literal"><span class="pre">false</span></code> otherwise.</p>
</li>
<li><p class="first">Modify the program to allow diagonal movement. For instance, you could use
<code class="docutils literal"><span class="pre">'q'</span></code>, <code class="docutils literal"><span class="pre">'e'</span></code>, <code class="docutils literal"><span class="pre">'z'</span></code>, and <code class="docutils literal"><span class="pre">'c'</span></code> for the diagonal keys.</p>
</li>
<li><p class="first">Modify the final program so that when the sprite goes off an edge, it
wraps-around to the opposite edge and continues moving with the same
velocity.</p>
</li>
</ol>
</div>
<div class="section" id="final-program">
<h2>Final Program<a class="headerlink" href="#final-program" title="Permalink to this headline">¶</a></h2>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">Sprite</span> <span class="o">{</span>
  <span class="kt">float</span> <span class="n">x</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">y</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">dx</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">dy</span><span class="o">;</span>

  <span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">dx</span><span class="o">;</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Box</span> <span class="kd">extends</span> <span class="n">Sprite</span> <span class="o">{</span>
  <span class="n">String</span> <span class="n">state</span><span class="o">;</span> <span class="c1">// &quot;square&quot;, &quot;circle&quot;</span>
  <span class="kt">float</span> <span class="n">radius</span><span class="o">;</span>

  <span class="c1">// constructor</span>
  <span class="n">Box</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="s">&quot;circle&quot;</span><span class="o">;</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">render</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;square&quot;</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">rectMode</span><span class="o">(</span><span class="n">CENTER</span><span class="o">);</span>
      <span class="n">noStroke</span><span class="o">();</span>
      <span class="n">fill</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
      <span class="n">rect</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">radius</span><span class="o">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">radius</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;circle&quot;</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">noStroke</span><span class="o">();</span>
      <span class="n">fill</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
      <span class="n">ellipse</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">radius</span><span class="o">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">radius</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">constrain</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">radius</span><span class="o">,</span> <span class="n">width</span> <span class="o">-</span> <span class="n">radius</span><span class="o">);</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">constrain</span><span class="o">(</span><span class="n">y</span><span class="o">,</span> <span class="n">radius</span><span class="o">,</span> <span class="n">height</span> <span class="o">-</span> <span class="n">radius</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">halt</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">flipState</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;square&quot;</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">state</span> <span class="o">=</span> <span class="s">&quot;circle&quot;</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;circle&quot;</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">state</span> <span class="o">=</span> <span class="s">&quot;square&quot;</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">increaseSize</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">radius</span> <span class="o">+=</span> <span class="mi">5</span><span class="o">;</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="n">constrain</span><span class="o">(</span><span class="n">radius</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">decreaseSize</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">radius</span> <span class="o">+=</span> <span class="o">-</span><span class="mi">5</span><span class="o">;</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="n">constrain</span><span class="o">(</span><span class="n">radius</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span> <span class="c1">// class Box</span>


<span class="n">Box</span> <span class="n">box</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">box</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Box</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
  <span class="n">box</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">box</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">keyPressed</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;-&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;_&#39;</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">box</span><span class="o">.</span><span class="na">decreaseSize</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;+&#39;</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">box</span><span class="o">.</span><span class="na">increaseSize</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">&#39; &#39;</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">box</span><span class="o">.</span><span class="na">flipState</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">UP</span><span class="o">)</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;w&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;W&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// up</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">DOWN</span><span class="o">)</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;s&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;S&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// down</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">LEFT</span><span class="o">)</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;a&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;A&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// left</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">RIGHT</span><span class="o">)</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;d&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;D&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// right</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dx</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">keyReleased</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">UP</span><span class="o">)</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;w&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;W&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// up</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">DOWN</span><span class="o">)</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;s&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;S&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// down</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">LEFT</span><span class="o">)</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;a&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;A&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// left</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">((</span><span class="n">key</span> <span class="o">==</span> <span class="n">CODED</span> <span class="o">&amp;&amp;</span> <span class="n">keyCode</span> <span class="o">==</span> <span class="n">RIGHT</span><span class="o">)</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;d&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;D&#39;</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// right</span>
    <span class="n">box</span><span class="o">.</span><span class="na">halt</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="oneShot1.html" title="One-shot Programming Problems"
             >next</a> |</li>
        <li class="right" >
          <a href="random_numbers.html" title="Random Numbers"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CMPT 166 Fall 2016 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Toby Donaldson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>