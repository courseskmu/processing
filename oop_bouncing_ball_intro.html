<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OOP: Bouncing Balls Revisited &mdash; CMPT 166 Fall 2016 1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="CMPT 166 Fall 2016 1 documentation" href="index.html" />
    <link rel="next" title="Bouncing Balls, Lists, and Loops" href="oop_bouncing_ball.html" />
    <link rel="prev" title="OOP: Classes for Geometric Shapes" href="oop_intro_circle.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="oop_bouncing_ball.html" title="Bouncing Balls, Lists, and Loops"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="oop_intro_circle.html" title="OOP: Classes for Geometric Shapes"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CMPT 166 Fall 2016 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">OOP: Bouncing Balls Revisited</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#going-to-oop">Going to OOP</a></li>
<li><a class="reference internal" href="#three-bouncing-balls">Three Bouncing Balls</a></li>
<li><a class="reference internal" href="#random-bouncing-balls">Random Bouncing Balls</a></li>
<li><a class="reference internal" href="#choosing-random-colors">Choosing Random Colors</a></li>
<li><a class="reference internal" href="#bouncing-balls">100 Bouncing Balls?</a></li>
<li><a class="reference internal" href="#questions">Questions</a></li>
<li><a class="reference internal" href="#programming-questions">Programming Questions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="oop_intro_circle.html"
                        title="previous chapter">OOP: Classes for Geometric Shapes</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="oop_bouncing_ball.html"
                        title="next chapter">Bouncing Balls, Lists, and Loops</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="oop-bouncing-balls-revisited">
<h1>OOP: Bouncing Balls Revisited<a class="headerlink" href="#oop-bouncing-balls-revisited" title="Permalink to this headline">¶</a></h1>
<p>In these notes you will learn:</p>
<ul class="simple">
<li>How to create and use an object-oriented bouncing ball object.</li>
<li>How to create randomly initialized bouncing balls.</li>
</ul>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>OOP and animation go well together. In object-oriented animation, the key idea
is to represent every animated thing on the screen with its own object. In
these notes we&#8217;ll re-implement the code for a ball bouncing around the screen
in an OOP style.</p>
</div>
<div class="section" id="going-to-oop">
<h2>Going to OOP<a class="headerlink" href="#going-to-oop" title="Permalink to this headline">¶</a></h2>
<p>We&#8217;ll start from the code we developed in <a class="reference internal" href="bouncing_ball.html"><em>Example: A Bouncing Ball</em></a>:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">color</span> <span class="n">orange</span> <span class="o">=</span> <span class="n">color</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">165</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
<span class="n">color</span> <span class="n">white</span> <span class="o">=</span> <span class="n">color</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">255</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span>

<span class="kt">float</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">;</span>

<span class="kt">float</span> <span class="n">dx</span><span class="o">,</span> <span class="n">dy</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">smooth</span><span class="o">();</span>

  <span class="c1">// set the ball&#39;s initial position and velocity</span>
  <span class="n">x</span> <span class="o">=</span> <span class="mi">250</span><span class="o">;</span>
  <span class="n">y</span> <span class="o">=</span> <span class="mi">250</span><span class="o">;</span>
  <span class="n">dx</span> <span class="o">=</span> <span class="mf">1.3</span><span class="o">;</span>
  <span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.77</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="c1">// re-draw the background</span>
  <span class="n">background</span><span class="o">(</span><span class="n">white</span><span class="o">);</span>

  <span class="c1">// draw the ball</span>
  <span class="n">noStroke</span><span class="o">();</span>
  <span class="n">fill</span><span class="o">(</span><span class="n">orange</span><span class="o">);</span>
  <span class="n">ellipse</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>

  <span class="c1">// move the ball to its next position</span>
  <span class="n">x</span> <span class="o">+=</span> <span class="n">dx</span><span class="o">;</span>
  <span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span><span class="o">;</span>

  <span class="c1">// hit the top edge?</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="n">dy</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">// hit the bottom edge?</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">499</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">499</span><span class="o">;</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="n">dy</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">// hit the left edge?</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="o">-</span><span class="n">dx</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">// hit the right edge?</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">499</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">499</span><span class="o">;</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="o">-</span><span class="n">dx</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>To convert this program into an OOP style, we need to decide what is the main
object we should represent. Since this program is about bouncing balls, it
makes sense to create a <code class="docutils literal"><span class="pre">BouncingBall</span></code> class to represent them.</p>
<p>When you create a class, you first need to think of a good name, and then list
all of its variables:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">BouncingBall</span> <span class="o">{</span>
  <span class="kt">float</span> <span class="n">x</span><span class="o">;</span>   <span class="c1">// (x, y) is the center of the ball</span>
  <span class="kt">float</span> <span class="n">y</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">dx</span><span class="o">;</span>  <span class="c1">// (dx, dy) is the velocity of the ball</span>
  <span class="kt">float</span> <span class="n">dy</span><span class="o">;</span>
  <span class="kt">float</span> <span class="n">diameter</span><span class="o">;</span>

  <span class="n">color</span> <span class="n">c</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Next we add a constructor to initialize the variables:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">BouncingBall</span> <span class="o">{</span>
    <span class="n">BouncingBall</span><span class="o">(</span><span class="kt">float</span> <span class="n">init_x</span><span class="o">,</span> <span class="kt">float</span> <span class="n">init_y</span><span class="o">,</span>
                 <span class="kt">float</span> <span class="n">init_dx</span><span class="o">,</span> <span class="kt">float</span> <span class="n">init_dy</span><span class="o">,</span>
                 <span class="kt">float</span> <span class="n">init_diameter</span><span class="o">,</span>
                 <span class="n">color</span> <span class="n">init_c</span><span class="o">)</span>
    <span class="o">{</span>
      <span class="n">x</span> <span class="o">=</span> <span class="n">init_x</span><span class="o">;</span>
      <span class="n">y</span> <span class="o">=</span> <span class="n">init_y</span><span class="o">;</span>
      <span class="n">dx</span> <span class="o">=</span> <span class="n">init_dx</span><span class="o">;</span>
      <span class="n">dy</span> <span class="o">=</span> <span class="n">init_dy</span><span class="o">;</span>
      <span class="n">diameter</span> <span class="o">=</span> <span class="n">init_diameter</span><span class="o">;</span>
      <span class="n">c</span> <span class="o">=</span> <span class="n">init_c</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// ..</span>

 <span class="o">}</span> <span class="c1">// class BouncingBall</span>
</pre></div>
</div>
<p>Now we can create a bouncing ball like this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">BouncingBall</span> <span class="n">a</span><span class="o">;</span>

<span class="c1">// ...</span>

<span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BouncingBall</span><span class="o">(</span><span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">,</span> <span class="o">-</span><span class="mf">1.25</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="n">color</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">));</span>
</pre></div>
</div>
<p>Next we want a bouncing ball to be able to draw itself on the screen, and so
we add a <code class="docutils literal"><span class="pre">render()</span></code> function:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">BouncingBall</span> <span class="o">{</span>

   <span class="c1">// ...</span>

   <span class="kt">void</span> <span class="nf">render</span><span class="o">()</span> <span class="o">{</span>
     <span class="n">noStroke</span><span class="o">();</span>
     <span class="n">fill</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
     <span class="n">ellipse</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="n">diameter</span><span class="o">,</span> <span class="n">diameter</span><span class="o">);</span>
   <span class="o">}</span>

   <span class="c1">// ...</span>

<span class="o">}</span> <span class="c1">// class BouncingBall</span>
</pre></div>
</div>
<p>Finally, we need code that updates the position of the ball. <em>Every</em> animated
object has such code, and because it is distinct from the rendering code, we
put it in its own function:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">BouncingBall</span> <span class="o">{</span>

   <span class="c1">// ...</span>

   <span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
     <span class="c1">// move the ball to its next position</span>
     <span class="n">x</span> <span class="o">+=</span> <span class="n">dx</span><span class="o">;</span>
     <span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span><span class="o">;</span>

     <span class="c1">// hit the top edge?</span>
     <span class="k">if</span> <span class="o">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
       <span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="n">dy</span><span class="o">;</span>
     <span class="o">}</span>

     <span class="c1">// hit the bottom edge?</span>
     <span class="k">if</span> <span class="o">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">499</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">y</span> <span class="o">=</span> <span class="mi">499</span><span class="o">;</span>
       <span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="n">dy</span><span class="o">;</span>
     <span class="o">}</span>

     <span class="c1">// hit the left edge?</span>
     <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
       <span class="n">dx</span> <span class="o">=</span> <span class="o">-</span><span class="n">dx</span><span class="o">;</span>
     <span class="o">}</span>

     <span class="c1">// hit the right edge?</span>
     <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">499</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">x</span> <span class="o">=</span> <span class="mi">499</span><span class="o">;</span>
       <span class="n">dx</span> <span class="o">=</span> <span class="o">-</span><span class="n">dx</span><span class="o">;</span>
     <span class="o">}</span>
   <span class="o">}</span>

   <span class="c1">// ...</span>

<span class="o">}</span> <span class="c1">// class BouncingBall</span>
</pre></div>
</div>
<p>As we&#8217;ve seen before, this code updates <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code>, and then checks for
collisions with the four edges of the screen.</p>
<p id="bouncingball-label">Here is the entire <code class="docutils literal"><span class="pre">BouncingBall</span></code> class so far:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">BouncingBall</span> <span class="o">{</span>
  <span class="kt">float</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">;</span>    <span class="c1">// center of the ball</span>
  <span class="kt">float</span> <span class="n">dx</span><span class="o">,</span> <span class="n">dy</span><span class="o">;</span>  <span class="c1">// velocity of the ball</span>
  <span class="kt">float</span> <span class="n">diameter</span><span class="o">;</span>

  <span class="n">color</span> <span class="n">c</span><span class="o">;</span>

  <span class="n">BouncingBall</span><span class="o">(</span><span class="kt">float</span> <span class="n">init_x</span><span class="o">,</span> <span class="kt">float</span> <span class="n">init_y</span><span class="o">,</span>
               <span class="kt">float</span> <span class="n">init_dx</span><span class="o">,</span> <span class="kt">float</span> <span class="n">init_dy</span><span class="o">,</span>
               <span class="kt">float</span> <span class="n">init_diameter</span><span class="o">,</span>
               <span class="n">color</span> <span class="n">init_c</span><span class="o">)</span>
  <span class="o">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">init_x</span><span class="o">;</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">init_y</span><span class="o">;</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="n">init_dx</span><span class="o">;</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="n">init_dy</span><span class="o">;</span>
    <span class="n">diameter</span> <span class="o">=</span> <span class="n">init_diameter</span><span class="o">;</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">init_c</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">render</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">noStroke</span><span class="o">();</span>
    <span class="n">fill</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
    <span class="n">ellipse</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="n">diameter</span><span class="o">,</span> <span class="n">diameter</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// move the ball to its next position</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">dx</span><span class="o">;</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span><span class="o">;</span>

    <span class="c1">// hit the top edge?</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="n">dy</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// hit the bottom edge?</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">499</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">y</span> <span class="o">=</span> <span class="mi">499</span><span class="o">;</span>
      <span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="n">dy</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// hit the left edge?</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="n">dx</span> <span class="o">=</span> <span class="o">-</span><span class="n">dx</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// hit the right edge?</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">499</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">x</span> <span class="o">=</span> <span class="mi">499</span><span class="o">;</span>
      <span class="n">dx</span> <span class="o">=</span> <span class="o">-</span><span class="n">dx</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span> <span class="c1">// class BouncingBall</span>
</pre></div>
</div>
<p>With the <code class="docutils literal"><span class="pre">BouncingBall</span></code> class completed, we can now write the main code:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">BouncingBall</span> <span class="n">a</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">smooth</span><span class="o">();</span>
  <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BouncingBall</span><span class="o">(</span><span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">,</span> <span class="o">-</span><span class="mf">1.25</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="n">color</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">));</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
  <span class="n">a</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">a</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<p>This code is short and relatively easy to understand. Indeed, the most
complicated part is the call to the constructor: make sure to pass the
parameters in the right order!</p>
</div>
<div class="section" id="three-bouncing-balls">
<h2>Three Bouncing Balls<a class="headerlink" href="#three-bouncing-balls" title="Permalink to this headline">¶</a></h2>
<p id="three-balls-prog-label">Lets write a demo program that makes three balls bounce around the screen.
This turns out to be quite easy since all the hard work is taken care of by
<code class="docutils literal"><span class="pre">BouncingBall</span></code>:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">BouncingBall</span> <span class="n">a</span><span class="o">;</span>
<span class="n">BouncingBall</span> <span class="n">b</span><span class="o">;</span>
<span class="n">BouncingBall</span> <span class="n">c</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">smooth</span><span class="o">();</span>
  <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BouncingBall</span><span class="o">(</span><span class="mi">250</span><span class="o">,</span> <span class="mi">250</span><span class="o">,</span> <span class="o">-</span><span class="mf">1.25</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="n">color</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">));</span>
  <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BouncingBall</span><span class="o">(</span><span class="mi">350</span><span class="o">,</span> <span class="mi">250</span><span class="o">,</span> <span class="o">-</span><span class="mf">1.04</span><span class="o">,</span> <span class="o">-</span><span class="mf">1.11</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="n">color</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">));</span>
  <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BouncingBall</span><span class="o">(</span><span class="mi">350</span><span class="o">,</span> <span class="mi">250</span><span class="o">,</span> <span class="mf">1.04</span><span class="o">,</span> <span class="o">-</span><span class="mf">0.11</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="n">color</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">));</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
  <span class="n">a</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">a</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>

  <span class="n">b</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">b</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>

  <span class="n">c</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">c</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<p>As you can see, adding extra balls is not difficult. Most of our effort goes
into the constructors, i.e. deciding the location, velocity, and color of the
ball.</p>
</div>
<div class="section" id="random-bouncing-balls">
<h2>Random Bouncing Balls<a class="headerlink" href="#random-bouncing-balls" title="Permalink to this headline">¶</a></h2>
<p>A fun way to make <code class="docutils literal"><span class="pre">BouncingBall</span></code>s is to choose there size, position,
velocity, and color at random.</p>
<p>To get random numbers in <a class="reference external" href="http://processing.org/">Processing</a> we&#8217;ll use the <code class="docutils literal"><span class="pre">random(lo,</span> <span class="pre">hi)</span></code>
function. The expression <code class="docutils literal"><span class="pre">random(lo,</span> <span class="pre">hi)</span></code> returns a (uniformly) randomly
chosen value in the range from <code class="docutils literal"><span class="pre">lo</span></code> to <code class="docutils literal"><span class="pre">hi</span></code>:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">a</span> <span class="o">&lt;=</span> <span class="n">random</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">&lt;</span> <span class="n">b</span>
</pre></div>
</div>
<p>Note that this inequality is <em>asymmetric</em>: <code class="docutils literal"><span class="pre">random(a,</span> <span class="pre">b)</span></code> might sometimes
return <code class="docutils literal"><span class="pre">a</span></code>, but it will <em>never</em> return <code class="docutils literal"><span class="pre">b</span></code>.</p>
<p>Now we can use this to choose values within random ranges that make sense for
each of the variables we want:</p>
<ul>
<li><p class="first">For the ball&#8217;s <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code> position, lets insist that they always start
near the center of the screen. Thus <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code> should be chosen in,
say, the range 200 to 300:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">float</span> <span class="n">rx</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">300</span><span class="o">);</span>
<span class="kt">float</span> <span class="n">ry</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">300</span><span class="o">);</span>
</pre></div>
</div>
</li>
<li><p class="first">For the ball&#8217;s velocity, represented by <code class="docutils literal"><span class="pre">dx</span></code> and <code class="docutils literal"><span class="pre">dy</span></code>, lets choose
values in the range -2.0 to 2.0:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">float</span> <span class="n">rdx</span> <span class="o">=</span> <span class="n">random</span><span class="o">(-</span><span class="mf">2.0</span><span class="o">,</span> <span class="mf">2.0</span><span class="o">);</span>
<span class="kt">float</span> <span class="n">rdy</span> <span class="o">=</span> <span class="n">random</span><span class="o">(-</span><span class="mf">2.0</span><span class="o">,</span> <span class="mf">2.0</span><span class="o">);</span>
</pre></div>
</div>
</li>
<li><p class="first">For the diameter of the ball, we want to make sure that it&#8217;s not too big or
too small, and so lets select it from the range 25 to 75:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">float</span> <span class="n">rdiam</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">25</span><span class="o">,</span> <span class="mi">75</span><span class="o">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Finally, to choose a random color we need to choose random red, green, and
blue values in the range 0 to 255:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">float</span> <span class="n">rred</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span>
<span class="kt">float</span> <span class="n">rgreen</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span>
<span class="kt">float</span> <span class="n">rblue</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span>
</pre></div>
</div>
</li>
</ul>
<p>Now lets combine all of this into a single function:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">BouncingBall</span> <span class="nf">makeRandomBall</span><span class="o">()</span> <span class="o">{</span>
  <span class="kt">float</span> <span class="n">rx</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">300</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">ry</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">300</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">rdx</span> <span class="o">=</span> <span class="n">random</span><span class="o">(-</span><span class="mf">2.0</span><span class="o">,</span> <span class="mf">2.0</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">rdy</span> <span class="o">=</span> <span class="n">random</span><span class="o">(-</span><span class="mf">2.0</span><span class="o">,</span> <span class="mf">2.0</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">rdiam</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">25</span><span class="o">,</span> <span class="mi">75</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">rred</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">rgreen</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">rblue</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span>

  <span class="n">BouncingBall</span> <span class="n">ball</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BouncingBall</span><span class="o">(</span><span class="n">rx</span><span class="o">,</span> <span class="n">ry</span><span class="o">,</span> <span class="n">rdx</span><span class="o">,</span> <span class="n">rdy</span><span class="o">,</span> <span class="n">rdiam</span><span class="o">,</span>
                                       <span class="n">color</span><span class="o">(</span><span class="n">rred</span><span class="o">,</span> <span class="n">rgreen</span><span class="o">,</span> <span class="n">rblue</span><span class="o">));</span>
  <span class="k">return</span> <span class="n">ball</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Now it is easy to create random balls:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">BouncingBall</span> <span class="n">a</span><span class="o">;</span>
<span class="n">BouncingBall</span> <span class="n">b</span><span class="o">;</span>
<span class="n">BouncingBall</span> <span class="n">c</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
  <span class="n">smooth</span><span class="o">();</span>
  <span class="n">a</span> <span class="o">=</span> <span class="n">makeRandomBall</span><span class="o">();</span>
  <span class="n">b</span> <span class="o">=</span> <span class="n">makeRandomBall</span><span class="o">();</span>
  <span class="n">c</span> <span class="o">=</span> <span class="n">makeRandomBall</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
  <span class="n">a</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">a</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>

  <span class="n">b</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">b</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>

  <span class="n">c</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">c</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<p>This program is identical to the previous one, except we initialize <code class="docutils literal"><span class="pre">a</span></code>,
<code class="docutils literal"><span class="pre">b</span></code>, and <code class="docutils literal"><span class="pre">c</span></code> in <code class="docutils literal"><span class="pre">setup</span></code> using <code class="docutils literal"><span class="pre">randomBouncingBall</span></code>.</p>
</div>
<div class="section" id="choosing-random-colors">
<h2>Choosing Random Colors<a class="headerlink" href="#choosing-random-colors" title="Permalink to this headline">¶</a></h2>
<p>Creating random colors is something you might want to do in many different
sample programs, so it is useful to create a special function just for doing
that:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">color</span> <span class="nf">randomColor</span><span class="o">()</span> <span class="o">{</span>
  <span class="kt">float</span> <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">g</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">b</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span>
  <span class="n">color</span> <span class="n">c</span> <span class="o">=</span> <span class="n">color</span><span class="o">(</span><span class="n">r</span><span class="o">,</span> <span class="n">g</span><span class="o">,</span> <span class="n">b</span><span class="o">);</span>
  <span class="k">return</span> <span class="n">c</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Another way to write the <code class="docutils literal"><span class="pre">randomColor</span></code> function is like this:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">color</span> <span class="nf">randomColor</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">color</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">),</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">),</span> <span class="n">random</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">));</span>
<span class="o">}</span>
</pre></div>
</div>
<p class="last">This does the same thing as the version of the function in the notes, but
this version is shorter and more compact. Many professional programmers
would prefer this version because it is shorter and, once you get used to
it, quite readable. However, many beginning programmers find this version
<em>too</em> compact and hard to understand. In this course, we&#8217;ll try to stick to
the longer, simpler version.</p>
</div>
<p>Now we can simplify <code class="docutils literal"><span class="pre">makeRandomBall</span></code> a little:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">BouncingBall</span> <span class="nf">makeRandomBall</span><span class="o">()</span> <span class="o">{</span>
  <span class="kt">float</span> <span class="n">rx</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">300</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">ry</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">300</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">rdx</span> <span class="o">=</span> <span class="n">random</span><span class="o">(-</span><span class="mf">2.0</span><span class="o">,</span> <span class="mf">2.0</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">rdy</span> <span class="o">=</span> <span class="n">random</span><span class="o">(-</span><span class="mf">2.0</span><span class="o">,</span> <span class="mf">2.0</span><span class="o">);</span>
  <span class="kt">float</span> <span class="n">rdiam</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">25</span><span class="o">,</span> <span class="mi">75</span><span class="o">);</span>

  <span class="n">BouncingBall</span> <span class="n">ball</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BouncingBall</span><span class="o">(</span><span class="n">rx</span><span class="o">,</span> <span class="n">ry</span><span class="o">,</span> <span class="n">rdx</span><span class="o">,</span> <span class="n">rdy</span><span class="o">,</span> <span class="n">rdiam</span><span class="o">,</span> <span class="n">randomColor</span><span class="o">());</span>

  <span class="k">return</span> <span class="n">ball</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="bouncing-balls">
<h2>100 Bouncing Balls?<a class="headerlink" href="#bouncing-balls" title="Permalink to this headline">¶</a></h2>
<p>Three bouncing balls are nice, but how could we make 100 balls bounce around
the screen? If you think about this for a moment, you will realize that if we
have 100 balls, we&#8217;ll need 100 variables, e.g.:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">BouncingBall</span> <span class="n">ball1</span><span class="o">;</span>
<span class="n">BouncingBall</span> <span class="n">ball2</span><span class="o">;</span>
<span class="n">BouncingBall</span> <span class="n">ball3</span><span class="o">;</span>
<span class="c1">// ...</span>
<span class="n">BouncingBall</span> <span class="n">ball100</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
   <span class="n">size</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
   <span class="n">smooth</span><span class="o">();</span>
   <span class="n">ball1</span> <span class="o">=</span> <span class="n">randomBouncingBall</span><span class="o">();</span>
   <span class="n">ball2</span> <span class="o">=</span> <span class="n">randomBouncingBall</span><span class="o">();</span>
   <span class="n">ball3</span> <span class="o">=</span> <span class="n">randomBouncingBall</span><span class="o">();</span>
   <span class="c1">// ...</span>
   <span class="n">ball100</span> <span class="o">=</span> <span class="n">randomBouncingBall</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>

  <span class="n">ball1</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">ball1</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>

  <span class="n">ball2</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">ball2</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>

  <span class="n">ball3</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">ball3</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>

  <span class="c1">// ...</span>

  <span class="n">ball100</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
  <span class="n">ball100</span><span class="o">.</span><span class="na">update</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<p>This program will work, but it is far too much typing. Plus, if we wanted,
say, 200 or 300 balls, then even more typing is needed.</p>
<p>This is clearly impractical. In the next set of notes we&#8217;ll see a solution to
this problem.</p>
</div>
<div class="section" id="questions">
<h2>Questions<a class="headerlink" href="#questions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>What&#8217;s the smallest integer value that <code class="docutils literal"><span class="pre">random(1,</span> <span class="pre">10)</span></code> can return? The
biggest?</li>
</ol>
</div>
<div class="section" id="programming-questions">
<h2>Programming Questions<a class="headerlink" href="#programming-questions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Modify the <code class="docutils literal"><span class="pre">randomBouncingBall</span></code> function so that the <a class="reference internal" href="glossary.html#term-alpha-value"><span class="xref std std-term">alpha value</span></a>
of the color is also set randomly. Test it in the bouncing balls program
from the notes.</li>
<li>Modify <a class="reference internal" href="#bouncingball-label"><span>the BouncingBall class</span></a> so that no part
of the ball ever goes off the screen. <strong>Hint</strong>: You only need to modify the
<code class="docutils literal"><span class="pre">update()</span></code> function.</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="oop_bouncing_ball.html" title="Bouncing Balls, Lists, and Loops"
             >next</a> |</li>
        <li class="right" >
          <a href="oop_intro_circle.html" title="OOP: Classes for Geometric Shapes"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CMPT 166 Fall 2016 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Toby Donaldson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>